{{ 'products-showcase.css' | asset_url | stylesheet_tag }}

<h1>{{ section.settings.title }}</h1>

<div class="showcase-container">
  {% for block in section.blocks %}
    <a href="{{block.settings.link}}">
      <div class="product-container">
        {% if block.settings.image != blank %}
          {{ block.settings.image | image_url: width: block.settings.image.width | image_tag: class: 'product__image' }}
        {% else %}
          <img
            class="product__image"
            width="1000"
            height="500"
            src="{{ 'product-placeholder.png' | asset_img_url: 'master' }}"
          >
        {% endif %}
        <div class="product-details">
          <div class="product-title">{{ block.settings.name }}</div>
          <div class="product-rating">
            <div class="rating-stars">
              {% for i in (1..block.settings.stars) %}
                {{ 'star-icon.svg' | inline_asset_content }}
              {% endfor %}
            </div>
            <div class="rating-details">
              ({{ block.settings.stars }}.0 Of {{ block.settings.reviews_amount }} Reviews)
            </div>
          </div>
        </div>
      </div>
    </a>
  {% endfor %}
</div>

{% schema %}
{
  "name": "Products Showcase",
  "class": "showcase",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Best Selling Products"
    }
  ],
  "blocks": [
    {
      "type": "product_block",
      "name": "Product",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product Image"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Product Name",
          "default": "Product Name"
        },
        {
          "type": "range",
          "id": "stars",
          "min": 0,
          "max": 5,
          "step": 1,
          "label": "Rating",
          "default": 5
        },
        {
          "type": "number",
          "id": "reviews_amount",
          "label": "Amount of Reviews",
          "default": 800
        },
        {
          "type": "url",
          "id": "link",
          "label": "Product Link"
        }
      ]
    }
  ]
}
{% endschema %}
